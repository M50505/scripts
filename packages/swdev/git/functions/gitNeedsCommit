#!/usr/bin/env bash
# vim:tabstop=2:shiftwidth=2:nu:filetype=sh

gitNeedsCommit ()
{
	local dir="${1:-.}"

    #   If there's no .git directory present, then
    #   no commit is needed because it is not possible.

    [[ -d ${dir}/.git ]] || return 1

    (
        cd ${dir}
        git status 2>/dev/null | grep 'nothing to commit' >/dev/null 2>&1 && exit 1
    )

    echo "trail $?"
}

